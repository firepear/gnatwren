<html>
  <head>
    <meta charset="utf-8">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/echarts/5.0.2/echarts.min.js" integrity="sha512-t9GZbGKCH5MuYUFsq5AdrhllT0kdnc2fNMizKDgLXBBXgHP2dXxjRPOzYJauAXW9OXLlSYELUqWD30k7cb0Mkg==" crossorigin="anonymous"></script>
    <style>
      body {background-color: #aaa; font-family: sans-serif; }
      .chart { background-color: #fff; border: medium solid #69f; border-radius: 10px;
               margin-left: 5%; margin-right: 5%; margin-bottom: 1%; padding: 10px;
               width: 90%; }
    </style>
  </head>
  <body>
    <div class="chart" id="cputemps" style="height:200px;"></div>
    <div class="chart" id="cputemps">
      <p>Foo.</p>
    </div>
  </body>
  <script>
    // one of these for every chart
    var cpuTDom = document.getElementById('cputemps');
    var cpuTChart = echarts.init(cpuTDom);
    var cpuT;
    // set options
    cpuT = {
        title: { text: 'CPU Temperatures' },
        tooltip: { trigger: 'axis' },
        grid: { left: '3%', right: '4%', bottom: '3%', containLabel: true },
        xAxis: {
            type: 'time',
            boundaryGap: ['20%', '20%'],
            min: 'dataMin',
            max: 'dataMax'
        },
        yAxis: { type: 'value' },
        // the following values will change over time
        //legend: { data: ['node01', 'node02', 'node03'] },
        series: [
            {
                name: 'node01',
                type: 'line',
                encode: { x: 'timestamp', y: 'node01' }
            },
            {
                name: 'node02',
                type: 'line',
                encode: { x: 'timestamp', y: 'node02' }
            },
            {
                name: 'node03',
                type: 'line',
                encode: { x: 'timestamp', y: 'node03' }
            }
        ],
        dataset: {
            // timestamps are in milliseconds; multiply by 1000 from DB
            source: [
                [ 1616359143000, 1, 2, 3 ],
                [ 1616363000000, 2, 3, 1 ],
                [ 1616366000000, null, 12, 4 ],
                [ 1616369000000, 5, 5, 5 ],
                [ 1616373000000, 8, 1, null ],
                [ 1616376000000, 9, 2, 4 ],
                [ 1616379000000, 8, null, 4 ],
                [ 1616383000000, 8, 12, 6 ],
                [ 1616386000000, 1, 2, 3 ],
                [ 1616389000000, 4, 3, 2 ]
            ],
            dimensions: [ 'timestamp', 'node01', 'node02', 'node03' ]
        }
    };
    // apply and render
    cpuT && cpuTChart.setOption(cpuT);
  </script>
</html>
